# Протокол связи DLMS/COSEM

> _Внимание! Статья в стадии написания._

### Конфигурация станций

Адрес станции (HDLC/MAC-адрес сервера DLMS) состоит из двух частей: нижнего MAC-адреса и верхнего MAC-адреса. Каждый из которых находится в диапазоне значений от 0 до 16383 (3FFFH).

`Lower MAC-address` (нижний MAC-адрес) - используется для адресации физического устройства в вычислительной сети.

`Upper MAC-address` (верхний MAC-адрес) - используется для адресации логического устройства, находящегося в составе физического устройства.

> Верхний MAC-адрес равный 1 определяет логическое устройство управления (Management Logical Device).

Если необходимо выяснить сколько логических устройств содержится в физическом устройстве, то необходимо просмотреть регистр "0-0:41.0.0" класса "SAP assignment" (class_id=17, attribute 2 "SAP_assignment_list").

> HDLC/MAC-адрессация используется только при использовании протоколов обмена "Прямой HDLC" или "Режим E IEC".

...

...

...

[...в процессе редактуры и дополнения...]

...

...

...

## Специфика адрессации OBIS
Адрессация объектов в модели приложения COSEM описана в международном стандарте IEC 62056-21 и состоит из 6 групп:

<table>
    <tr>
        <td><kbd>A</kbd></td>
        <td><kbd>B</kbd></td>
        <td><kbd>C</kbd></td>
        <td><kbd>D</kbd></td>
        <td><kbd>E</kbd></td>
        <td><kbd>F</kbd></td>
    </tr>
</table>

<table>
    <tr>
        <td>Группа</td>
        <td>Значение группы</td>
    </tr>
    <tr>
        <td>
            <kbd>A</kbd>
        </td>
        <td>
            значение группы А определяет тип энергии (0=абстрактные объекты, 1=электричество, 7=газ).,
        </td>
    </tr>
    <tr>
        <td>
            <kbd>B</kbd>
        </td>
        <td>
            значение группы B определяет номер канала (?измерения)
        </td>
    </tr>
    <tr>
        <td>
            <kbd>C</kbd>
        </td>
        <td>
            значение группы C определяет измеряемую физическую величину
        </td>
    </tr>
    <tr>
        <td>
            <kbd>D</kbd>
        </td>
        <td>
            значение группы D определяет тип обработки
        </td>
    </tr>
    <tr>
        <td>
            <kbd>E</kbd>
        </td>
        <td>
            значение группы E определяет дальнейшую обработку или классификацию в соответствии с алгоритмом
        </td>
    </tr>
    <tr>
        <td>
            <kbd>F</kbd>
        </td>
        <td>
            значение группы F определяет порядок хранения обработанных исторических данных
        </td>
    </tr>
</table>

Значения групп от A до F представляет собой положительное число в диапазоне от 0 до 255.

Для групп значений C и D вы также можете ввести значения символов:
- символ 'C' является значением 96,
- символ 'F' является значением 97,
- символ 'L' является значением 98,
- символ 'P' является значением 99.

OBIS-адрес объекта в модели COSEM указывается в следующем токстовом формате:

<kbd>A-B:C.D.E*F</kbd>

Группы <kbd>C</kbd>, <kbd>D</kbd> и <kbd>E</kbd> всегда должны содержать значений из допустимого диапазона. Оставшиеся группы <kbd>A</kbd>, <kbd>B</kbd> и <kbd>F</kbd> могут быть не указаны, в этом случае их значения будут равны нулю (0).

> Для получения более дополнительной информации обратитесь к руководству по эксплуатации используемого оборудования или к списку стандартных OBIS-кодов и объектов COSEM ("List of standardized OBIS codes, DLMS UA).

Примеры OBIS-адресов объектов в модели COSEM:
|OBIS-адрес |Описание адресуемого объекта|
|-|-|
|1.8.0| Принятая из сети активная энергия (A+) [kWh]|
|2.8.0| Сгенерированная в сеть активная энергия (А-) [kWh]|
|15.8.0| Абсолютная активная энергия ( \| А \| ) [kWh] 